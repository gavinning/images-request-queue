"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),IR=function(){function IR(e){_classCallCheck(this,IR),Array.isArray(e)?(this.__deep=!1,this.__list=e.slice(0)):(this.__deep=e.deep,this.__list=e.list.slice(0))}return _createClass(IR,[{key:"__queue",value:function(e){return this.__list.splice(0,e)}},{key:"__loadimg",value:function __loadimg(url,fn){var img=new Image;this.__deep?img.src=eval("url."+this.__deep):img.src=url,img.complete?fn(img):img.onload=function(){return fn(img)}}},{key:"load",value:function(e){var n=this,t=this.__queue(e).map(function(e){return new Promise(function(t,i){try{n.__loadimg(e,function(e){return t(e)})}catch(e){i(e)}})});return Promise.all(t)}}]),IR}();module.exports=IR;