"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),IR=function(){function IR(e){_classCallCheck(this,IR),Array.isArray(e)?(this.__deep=!1,this.__list=e.slice(0)):(this.__deep=e.deep,this.__list=e.list)}return _createClass(IR,[{key:"__queue",value:function(e){return this.__list.splice(0,e)}},{key:"__loadimg",value:function __loadimg(url,fn){var img=new Image;this.__deep?img.src=eval("url."+this.__deep):img.src=url,img.onload=function(){fn(this)}}},{key:"load",value:function(e){var t=this,n=this.__queue(e).map(function(e){return new Promise(function(n,i){try{t.__loadimg(e,function(e){return n(e)})}catch(e){i(e)}})});return Promise.all(n)}}]),IR}();module.exports=IR;